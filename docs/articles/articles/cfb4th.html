<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Get Started with cfb4th • cfb4th</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../../bootstrap-toc.css">
<script src="../../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../../pkgdown.css" rel="stylesheet">
<script src="../../pkgdown.js"></script><meta property="og:title" content="Get Started with cfb4th">
<meta property="og:description" content="cfb4th">
<meta property="og:image" content="https://kazink36.github.io/cfb4th/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../../index.html">cfb4th</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0.9002</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../../articles/articles/cfb4th.html">Get started</a>
</li>
<li>
  <a href="../../reference/index.html">Functions</a>
</li>
<li>
  <a href="../../news/index.html">
    <span class="fas fa-newspaper"></span>
     
     Changelog
  </a>
</li>
<li>
  <a href="http://gameonpaper.com/cfb">
    <span class="fas fa-football-ball"></span>
     
     GP
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa-project-diagram"></span>
     
    SDV
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://sportsdataverse.org/">SportsDataverse</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">R Packages</li>
    <li>
      <a href="https://saiemgilani.github.io/cfbfastR/">cfbfastR</a>
    </li>
    <li>
      <a href="https://hoopR.sportsdataverse.org/">hoopR</a>
    </li>
    <li>
      <a href="https://wehoop.sportsdataverse.org/">wehoop</a>
    </li>
    <li>
      <a href="https://saiemgilani.github.io/recruitR/">recruitR</a>
    </li>
    <li>
      <a href="https://puntalytics.github.io/puntr">puntr</a>
    </li>
    <li>
      <a href="https://jacklich10.github.io/gamezoneR/">gamezoneR</a>
    </li>
    <li>
      <a href="https://kazink36.github.io/cfbplotR/">cfbplotR</a>
    </li>
    <li>
      <a href="https://jaseziv.github.io/worldfootballR/">worldfootballR</a>
    </li>
    <li>
      <a href="https://hockeyr.netlify.app/">hockeyR</a>
    </li>
    <li>
      <a href="https://saiemgilani.github.io/baseballr/">baseballr</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Python Packages</li>
    <li>
      <a href="https://cfbfastR-py.sportsdataverse.org/">cfbfastR-py</a>
    </li>
    <li>
      <a href="https://hoopR-py.sportsdataverse.org/">hoopR-py</a>
    </li>
    <li>
      <a href="https://wehoop-py.sportsdataverse.org/">wehoop-py</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Node.js Packages</li>
    <li>
      <a href="https://saiemgilani.github.io/sportsdataverse/">sportsdataverse.js</a>
    </li>
    <li>
      <a href="https://github.com/nntrn/nfl-nerd/">nfl-nerd</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa-database"></span>
     
     Data
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="https://collegefootballdata.com">CFBData.com</a>
    </li>
    <li>
      <a href="https://github.com/saiemgilani/cfbfastR-data">Data Repository</a>
    </li>
    <li>
      <a href="https://github.com/saiemgilani/cfbfastR-raw">Raw Data Repository</a>
    </li>
  </ul>
</li>
<li>
  <a></a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="http://twitter.com/aisports_4th">
    <span class="fab fa-twitter fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/Kazink36/cfb4th/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="cfb4th_files/header-attrs-2.11/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Get Started with cfb4th</h1>
                        <h4 class="author">Ben Baldwin &amp; Jared Lee</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Kazink36/cfb4th/blob/master/vignettes/articles/cfb4th.Rmd"><code>vignettes/articles/cfb4th.Rmd</code></a></small>
      <div class="hidden name"><code>cfb4th.Rmd</code></div>

    </div>

    
    
<p>First load the packages and some data. <code><a href="../../reference/load_4th_pbp.html">load_4th_pbp()</a></code> loads <code>cfbfastR</code> data and computes 4th down probabilities (depending on your computer, this may take up to a minute or two per season).</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://kazink36.github.io/cfb4th/">cfb4th</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://gt.rstudio.com/">gt</a></span><span class="op">)</span>
<span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">cfb4th</span><span class="fu">::</span><span class="fu"><a href="../../reference/load_4th_pbp.html">load_4th_pbp</a></span><span class="op">(</span><span class="fl">2020</span><span class="op">)</span></code></pre></div>
<div id="easy-mode-using-cfbfastr-data" class="section level2">
<h2 class="hasAnchor">
<a href="#easy-mode-using-cfbfastr-data" class="anchor"></a>Easy mode: using cfbfastR data</h2>
<p>Here’s what the data obtained using <code><a href="../../reference/load_4th_pbp.html">load_4th_pbp()</a></code> looks like:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html">is.na</a></span><span class="op">(</span><span class="va">go_boost</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">utils</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="fl">10</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span>
    <span class="va">pos_team</span>, <span class="va">distance</span>, <span class="va">yards_to_goal</span>, <span class="va">go_boost</span>, <span class="va">first_down_prob</span>, 
    <span class="va">wp_fail</span>, <span class="va">wp_succeed</span>, <span class="va">go_wp</span>, <span class="va">fg_make_prob</span>, <span class="va">miss_fg_wp</span>, <span class="va">make_fg_wp</span>, 
    <span class="va">fg_wp</span>, <span class="va">punt_wp</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></code></pre></div>
<table class="table">
<colgroup>
<col width="11%">
<col width="6%">
<col width="10%">
<col width="6%">
<col width="11%">
<col width="5%">
<col width="7%">
<col width="4%">
<col width="9%">
<col width="7%">
<col width="7%">
<col width="4%">
<col width="5%">
</colgroup>
<thead><tr class="header">
<th align="left">pos_team</th>
<th align="right">distance</th>
<th align="right">yards_to_goal</th>
<th align="right">go_boost</th>
<th align="right">first_down_prob</th>
<th align="right">wp_fail</th>
<th align="right">wp_succeed</th>
<th align="right">go_wp</th>
<th align="right">fg_make_prob</th>
<th align="right">miss_fg_wp</th>
<th align="right">make_fg_wp</th>
<th align="right">fg_wp</th>
<th align="right">punt_wp</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">North Texas</td>
<td align="right">2</td>
<td align="right">41</td>
<td align="right">1.14</td>
<td align="right">0.69</td>
<td align="right">0.95</td>
<td align="right">0.97</td>
<td align="right">0.96</td>
<td align="right">0.28</td>
<td align="right">0.95</td>
<td align="right">0.97</td>
<td align="right">0.95</td>
<td align="right">0.95</td>
</tr>
<tr class="even">
<td align="left">Houston Baptist</td>
<td align="right">2</td>
<td align="right">5</td>
<td align="right">0.26</td>
<td align="right">0.47</td>
<td align="right">0.03</td>
<td align="right">0.07</td>
<td align="right">0.05</td>
<td align="right">0.93</td>
<td align="right">0.03</td>
<td align="right">0.05</td>
<td align="right">0.05</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">Houston Baptist</td>
<td align="right">6</td>
<td align="right">26</td>
<td align="right">0.32</td>
<td align="right">0.41</td>
<td align="right">0.01</td>
<td align="right">0.04</td>
<td align="right">0.02</td>
<td align="right">0.61</td>
<td align="right">0.01</td>
<td align="right">0.02</td>
<td align="right">0.02</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">Houston Baptist</td>
<td align="right">5</td>
<td align="right">64</td>
<td align="right">-0.07</td>
<td align="right">0.40</td>
<td align="right">0.01</td>
<td align="right">0.01</td>
<td align="right">0.01</td>
<td align="right">0.00</td>
<td align="right">0.00</td>
<td align="right">0.01</td>
<td align="right">0.00</td>
<td align="right">0.01</td>
</tr>
<tr class="odd">
<td align="left">North Texas</td>
<td align="right">3</td>
<td align="right">48</td>
<td align="right">0.19</td>
<td align="right">0.62</td>
<td align="right">0.97</td>
<td align="right">0.98</td>
<td align="right">0.98</td>
<td align="right">0.00</td>
<td align="right">0.97</td>
<td align="right">0.98</td>
<td align="right">0.97</td>
<td align="right">0.97</td>
</tr>
<tr class="even">
<td align="left">North Texas</td>
<td align="right">3</td>
<td align="right">48</td>
<td align="right">0.12</td>
<td align="right">0.62</td>
<td align="right">0.97</td>
<td align="right">0.98</td>
<td align="right">0.98</td>
<td align="right">0.00</td>
<td align="right">0.97</td>
<td align="right">0.99</td>
<td align="right">0.97</td>
<td align="right">0.98</td>
</tr>
<tr class="odd">
<td align="left">Houston Baptist</td>
<td align="right">10</td>
<td align="right">13</td>
<td align="right">-0.41</td>
<td align="right">0.18</td>
<td align="right">0.02</td>
<td align="right">0.06</td>
<td align="right">0.03</td>
<td align="right">0.83</td>
<td align="right">0.02</td>
<td align="right">0.04</td>
<td align="right">0.03</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">North Texas</td>
<td align="right">13</td>
<td align="right">13</td>
<td align="right">-0.37</td>
<td align="right">0.28</td>
<td align="right">0.96</td>
<td align="right">0.99</td>
<td align="right">0.97</td>
<td align="right">0.83</td>
<td align="right">0.96</td>
<td align="right">0.98</td>
<td align="right">0.97</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">Houston Baptist</td>
<td align="right">9</td>
<td align="right">33</td>
<td align="right">-0.65</td>
<td align="right">0.30</td>
<td align="right">0.02</td>
<td align="right">0.02</td>
<td align="right">0.02</td>
<td align="right">0.48</td>
<td align="right">0.02</td>
<td align="right">0.04</td>
<td align="right">0.03</td>
<td align="right">0.02</td>
</tr>
<tr class="even">
<td align="left">Houston Baptist</td>
<td align="right">5</td>
<td align="right">33</td>
<td align="right">0.61</td>
<td align="right">0.40</td>
<td align="right">0.02</td>
<td align="right">0.05</td>
<td align="right">0.03</td>
<td align="right">0.48</td>
<td align="right">0.02</td>
<td align="right">0.04</td>
<td align="right">0.03</td>
<td align="right">0.03</td>
</tr>
</tbody>
</table>
<p>Or we can add some filters to look up a certain game:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">week</span> <span class="op">==</span> <span class="fl">12</span>, <span class="va">pos_team</span> <span class="op">==</span> <span class="st">"Utah"</span>, <span class="va">down</span> <span class="op">==</span> <span class="fl">4</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span>
    <span class="va">pos_team</span>, <span class="va">distance</span>, <span class="va">yards_to_goal</span>, <span class="va">go_boost</span>, <span class="va">first_down_prob</span>, 
    <span class="va">wp_fail</span>, <span class="va">wp_succeed</span>, <span class="va">go_wp</span>, <span class="va">fg_make_prob</span>, <span class="va">miss_fg_wp</span>, <span class="va">make_fg_wp</span>, 
    <span class="va">fg_wp</span>, <span class="va">punt_wp</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></code></pre></div>
<table class="table">
<colgroup>
<col width="6%">
<col width="6%">
<col width="10%">
<col width="6%">
<col width="12%">
<col width="6%">
<col width="8%">
<col width="4%">
<col width="9%">
<col width="8%">
<col width="8%">
<col width="4%">
<col width="6%">
</colgroup>
<thead><tr class="header">
<th align="left">pos_team</th>
<th align="right">distance</th>
<th align="right">yards_to_goal</th>
<th align="right">go_boost</th>
<th align="right">first_down_prob</th>
<th align="right">wp_fail</th>
<th align="right">wp_succeed</th>
<th align="right">go_wp</th>
<th align="right">fg_make_prob</th>
<th align="right">miss_fg_wp</th>
<th align="right">make_fg_wp</th>
<th align="right">fg_wp</th>
<th align="right">punt_wp</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Utah</td>
<td align="right">10</td>
<td align="right">75</td>
<td align="right">-2.61</td>
<td align="right">0.30</td>
<td align="right">0.35</td>
<td align="right">0.48</td>
<td align="right">0.39</td>
<td align="right">0.00</td>
<td align="right">0.34</td>
<td align="right">0.51</td>
<td align="right">0.34</td>
<td align="right">0.42</td>
</tr>
<tr class="even">
<td align="left">Utah</td>
<td align="right">5</td>
<td align="right">19</td>
<td align="right">-0.03</td>
<td align="right">0.44</td>
<td align="right">0.43</td>
<td align="right">0.58</td>
<td align="right">0.50</td>
<td align="right">0.74</td>
<td align="right">0.43</td>
<td align="right">0.52</td>
<td align="right">0.50</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">Utah</td>
<td align="right">8</td>
<td align="right">73</td>
<td align="right">-1.00</td>
<td align="right">0.35</td>
<td align="right">0.21</td>
<td align="right">0.27</td>
<td align="right">0.23</td>
<td align="right">0.00</td>
<td align="right">0.20</td>
<td align="right">0.31</td>
<td align="right">0.20</td>
<td align="right">0.24</td>
</tr>
<tr class="even">
<td align="left">Utah</td>
<td align="right">10</td>
<td align="right">87</td>
<td align="right">-1.34</td>
<td align="right">0.30</td>
<td align="right">0.22</td>
<td align="right">0.29</td>
<td align="right">0.24</td>
<td align="right">0.00</td>
<td align="right">0.21</td>
<td align="right">0.35</td>
<td align="right">0.21</td>
<td align="right">0.26</td>
</tr>
<tr class="odd">
<td align="left">Utah</td>
<td align="right">18</td>
<td align="right">83</td>
<td align="right">-2.15</td>
<td align="right">0.12</td>
<td align="right">0.06</td>
<td align="right">0.12</td>
<td align="right">0.07</td>
<td align="right">0.00</td>
<td align="right">0.05</td>
<td align="right">0.17</td>
<td align="right">0.05</td>
<td align="right">0.09</td>
</tr>
<tr class="even">
<td align="left">Utah</td>
<td align="right">6</td>
<td align="right">37</td>
<td align="right">2.27</td>
<td align="right">0.41</td>
<td align="right">0.06</td>
<td align="right">0.14</td>
<td align="right">0.09</td>
<td align="right">0.35</td>
<td align="right">0.05</td>
<td align="right">0.10</td>
<td align="right">0.07</td>
<td align="right">0.07</td>
</tr>
<tr class="odd">
<td align="left">Utah</td>
<td align="right">4</td>
<td align="right">10</td>
<td align="right">1.71</td>
<td align="right">0.40</td>
<td align="right">0.05</td>
<td align="right">0.17</td>
<td align="right">0.09</td>
<td align="right">0.87</td>
<td align="right">0.04</td>
<td align="right">0.08</td>
<td align="right">0.08</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">Utah</td>
<td align="right">11</td>
<td align="right">73</td>
<td align="right">0.05</td>
<td align="right">0.27</td>
<td align="right">0.01</td>
<td align="right">0.01</td>
<td align="right">0.01</td>
<td align="right">0.00</td>
<td align="right">0.01</td>
<td align="right">0.01</td>
<td align="right">0.01</td>
<td align="right">0.01</td>
</tr>
</tbody>
</table>
</div>
<div id="calculations-from-user-input" class="section level2">
<h2 class="hasAnchor">
<a href="#calculations-from-user-input" class="anchor"></a>Calculations from user input</h2>
<p>The below shows the bare minimum amount of information that has to be fed to <code>cfb4th</code> in order to compute 4th down decision recommendations. The main function on user-input data is <code><a href="../../reference/add_4th_probs.html">add_4th_probs()</a></code>.</p>
<p>Teams are included to help the model easily track the simulations.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">one_play</span> <span class="op">&lt;-</span>
  <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html">tibble</a></span><span class="op">(</span>
      <span class="co"># Game Info</span>
      home <span class="op">=</span> <span class="st">"Utah"</span>,
      away <span class="op">=</span> <span class="st">"BYU"</span>,
      pos_team <span class="op">=</span> <span class="st">"Utah"</span>,
      def_pos_team <span class="op">=</span> <span class="st">"BYU"</span>,
      spread <span class="op">=</span> <span class="op">-</span><span class="fl">7</span>,
      over_under <span class="op">=</span> <span class="fl">55</span>,

      <span class="co"># Situation Info</span>
      half <span class="op">=</span> <span class="fl">2</span>,
      period <span class="op">=</span> <span class="fl">3</span>, <span class="co"># Quarter</span>
      TimeSecsRem <span class="op">=</span> <span class="fl">900</span>, <span class="co"># Half Seconds Remaining</span>
      adj_TimeSecsRem <span class="op">=</span> <span class="fl">900</span>, <span class="co"># Game Seconds Remaining</span>
      down <span class="op">=</span> <span class="fl">4</span>,
      distance <span class="op">=</span> <span class="fl">4</span>,
      yards_to_goal <span class="op">=</span> <span class="fl">40</span>,
      pos_score_diff_start <span class="op">=</span> <span class="fl">7</span>,

      pos_team_receives_2H_kickoff <span class="op">=</span> <span class="fl">1</span>,
      pos_team_timeouts_rem_before <span class="op">=</span> <span class="fl">3</span>,
      def_pos_team_timeouts_rem_before <span class="op">=</span> <span class="fl">3</span>

    <span class="op">)</span>
<span class="va">one_play</span> <span class="op">%&gt;%</span>
  <span class="fu">cfb4th</span><span class="fu">::</span><span class="fu"><a href="../../reference/add_4th_probs.html">add_4th_probs</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span>
    <span class="va">pos_team</span>, <span class="va">distance</span>, <span class="va">yards_to_goal</span>, <span class="va">go_boost</span>, <span class="va">first_down_prob</span>, 
    <span class="va">wp_fail</span>, <span class="va">wp_succeed</span>, <span class="va">go_wp</span>, <span class="va">fg_make_prob</span>, <span class="va">miss_fg_wp</span>, <span class="va">make_fg_wp</span>, 
    <span class="va">fg_wp</span>, <span class="va">punt_wp</span>
  <span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>
<span class="co">#&gt; Computing probabilities for 1 plays. . .</span></code></pre></div>
<table class="table">
<colgroup>
<col width="6%">
<col width="6%">
<col width="10%">
<col width="6%">
<col width="12%">
<col width="6%">
<col width="8%">
<col width="4%">
<col width="9%">
<col width="8%">
<col width="8%">
<col width="4%">
<col width="6%">
</colgroup>
<thead><tr class="header">
<th align="left">pos_team</th>
<th align="right">distance</th>
<th align="right">yards_to_goal</th>
<th align="right">go_boost</th>
<th align="right">first_down_prob</th>
<th align="right">wp_fail</th>
<th align="right">wp_succeed</th>
<th align="right">go_wp</th>
<th align="right">fg_make_prob</th>
<th align="right">miss_fg_wp</th>
<th align="right">make_fg_wp</th>
<th align="right">fg_wp</th>
<th align="right">punt_wp</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">Utah</td>
<td align="right">4</td>
<td align="right">40</td>
<td align="right">1.38</td>
<td align="right">0.49</td>
<td align="right">0.81</td>
<td align="right">0.92</td>
<td align="right">0.87</td>
<td align="right">0.3</td>
<td align="right">0.81</td>
<td align="right">0.91</td>
<td align="right">0.84</td>
<td align="right">0.85</td>
</tr></tbody>
</table>
</div>
<div id="make-a-summary-table" class="section level2">
<h2 class="hasAnchor">
<a href="#make-a-summary-table" class="anchor"></a>Make a summary table</h2>
<p>Let’s put the play above into a table using the provided function <code><a href="../../reference/make_table_data.html">make_table_data()</a></code>, which makes it easier to interpret the recommendations for a play. This function only works with one play at a time since it makes a table using the results from the play.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">one_play</span> <span class="op">%&gt;%</span>
  <span class="fu">cfb4th</span><span class="fu">::</span><span class="fu"><a href="../../reference/add_4th_probs.html">add_4th_probs</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">cfb4th</span><span class="fu">::</span><span class="fu"><a href="../../reference/make_table_data.html">make_table_data</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>
<span class="co">#&gt; Computing probabilities for 1 plays. . .</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">choice</th>
<th align="right">choice_prob</th>
<th align="right">success_prob</th>
<th align="right">fail_wp</th>
<th align="right">success_wp</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Go for it</td>
<td align="right">86.5</td>
<td align="right">49.4</td>
<td align="right">81.2</td>
<td align="right">91.9</td>
</tr>
<tr class="even">
<td align="left">Punt</td>
<td align="right">85.1</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">Field goal attempt</td>
<td align="right">83.9</td>
<td align="right">29.6</td>
<td align="right">80.7</td>
<td align="right">91.3</td>
</tr>
</tbody>
</table>
<p>Looking at the table, the offense would be expected to have 86.5% win probability if they had gone for it and 85% if they punted.</p>
</div>
<div id="getting-4th-down-plays-from-a-live-game" class="section level2">
<h2 class="hasAnchor">
<a href="#getting-4th-down-plays-from-a-live-game" class="anchor"></a>Getting 4th down plays from a live game</h2>
<p><code>cfbfastR</code> isn’t available for live games and typing all the plays in by hand is annoying. So how does the 4th down bot work? With thanks to the ESPN API, which can be accessed using <code><a href="../../reference/get_4th_plays.html">get_4th_plays()</a></code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">game</span> <span class="op">&lt;-</span> <span class="fu">cfbfastR</span><span class="fu">::</span><span class="fu"><a href="http://saiemgilani.github.io/cfbfastR/reference/cfbd_game_info.html">cfbd_game_info</a></span><span class="op">(</span><span class="fl">2019</span>, team <span class="op">=</span> <span class="st">"Utah"</span>, week <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>
<span class="va">plays</span> <span class="op">&lt;-</span> <span class="fu">cfb4th</span><span class="fu">::</span><span class="fu"><a href="../../reference/get_4th_plays.html">get_4th_plays</a></span><span class="op">(</span><span class="va">game</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">tail</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>
<span class="va">plays</span> <span class="op">%&gt;%</span> 
  <span class="fu">select</span><span class="op">(</span><span class="va">desc</span>, <span class="va">TimeSecsRem</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 1 × 2</span>
<span class="co">#&gt;   desc                        TimeSecsRem</span>
<span class="co">#&gt;   &lt;chr&gt;                             &lt;dbl&gt;</span>
<span class="co">#&gt; 1 Jadon Redding 38 yd FG GOOD         241</span>
<span class="va">plays</span> <span class="op">%&gt;%</span> 
  <span class="fu">cfb4th</span><span class="fu">::</span><span class="fu"><a href="../../reference/add_4th_probs.html">add_4th_probs</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">cfb4th</span><span class="fu">::</span><span class="fu"><a href="../../reference/make_table_data.html">make_table_data</a></span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>
<span class="co">#&gt; Computing probabilities for 1 plays. . .</span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">choice</th>
<th align="right">choice_prob</th>
<th align="right">success_prob</th>
<th align="right">fail_wp</th>
<th align="right">success_wp</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Field goal attempt</td>
<td align="right">7.5</td>
<td align="right">72.1</td>
<td align="right">1.8</td>
<td align="right">9.7</td>
</tr>
<tr class="even">
<td align="left">Go for it</td>
<td align="right">7.3</td>
<td align="right">29.0</td>
<td align="right">2.3</td>
<td align="right">19.4</td>
</tr>
<tr class="odd">
<td align="left">Punt</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
</tbody>
</table>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://twitter.com/JaredDLee">Jared Lee</a>, <a href="https://twitter.com/benbbaldwin">Ben Baldwin</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
